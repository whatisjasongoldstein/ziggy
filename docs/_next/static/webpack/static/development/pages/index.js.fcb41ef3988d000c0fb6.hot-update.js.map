{"version":3,"file":"static/webpack/static/development/pages/index.js.fcb41ef3988d000c0fb6.hot-update.js","sources":["webpack:///./components/lazyloaded-image.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/typeof.js"],"sourcesContent":["import { useRef, useEffect, useState, Component } from \"react\";\n\nlet observer;\nconst observerCallbackHandlers = {};\n\n// new IntersectionObserver(\n//   (entries, observerInstance) => {\n//     // checks to see if the element is intersecting\n//     if (entries[0].intersectionRatio > 0) {\n//       // if it is update the state, we set triggered\n//       // as to not re-observe the element\n//       setState({\n//         inView: true,\n//         triggered: true\n//       });\n//       // unobserve the element\n//       observerInstance.unobserve(ref.current);\n//     }\n//     return;\n//   },\n// {\n//   rootMargin: \"500px\"\n// }\n// );\n\nfunction getObserver() {\n  if (!process.browser || observer) {\n    return observer;\n  }\n\n  observer = new IntersectionObserver(\n    (entries, observerInstance) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          console.log(entry);\n          observerCallbackHandlers[entry.target]();\n        }\n      });\n    },\n    {\n      rootMargin: \"500px\"\n    }\n  );\n\n  return observer;\n}\n\n/**\n * Inspired by https://billyjacoby.dev/intersection-observer-react-hooks\n */\nexport const useIntersectionObserver = ref => {\n  // configure the state\n  const [state, setState] = useState({\n    inView: false,\n    triggered: false\n  });\n\n  // Use this to cache the observer across lifecycles\n  const observerInstance = getObserver();\n\n  // Obviously this only works in the browser\n  // if (process.browser && !observerRef.current) {\n  //   console.log(\"Observer created\");\n  //   observerRef.current = new IntersectionObserver(\n  //     (entries, observerInstance) => {\n  //       // checks to see if the element is intersecting\n  //       if (entries[0].intersectionRatio > 0) {\n  //         // if it is update the state, we set triggered\n  //         // as to not re-observe the element\n  //         setState({\n  //           inView: true,\n  //           triggered: true\n  //         });\n  //         // unobserve the element\n  //         observerInstance.unobserve(ref.current);\n  //       }\n  //       return;\n  //     },\n  //     {\n  //       rootMargin: \"500px\"\n  //     }\n  //   );\n  // }\n\n  useEffect(() => {\n    // check that the element exists, and has not\n    // already been triggered\n    if (observerInstance && ref.current && !state.triggered) {\n      observerCallbackHandlers[ref.current] = function() {\n        console.log(ref.current.outerHTML);\n      };\n      observerInstance.observe(ref.current);\n    }\n\n    return function() {\n      if (observerInstance) {\n        observerInstance.unobserve(ref.current);\n      }\n    };\n  });\n\n  return [state.inView];\n};\n\n// export default function LazyLoadedImage({ src, alt }) {\n//   const elementRef = useRef(null);\n//   const [inView] = useIntersectionObserver(elementRef);\n\n//   return (\n//     <img\n//       ref={elementRef}\n//       key={src}\n//       className=\"lazyload\"\n//       src={inView ? src : \"\"}\n//       alt={alt}\n//     />\n//   );\n// }\n\nclass LazyLoadedImage extends Component {\n  render() {\n    return (\n      <img\n        ref={elementRef}\n        key={src}\n        className=\"lazyload\"\n        src={inView ? src : \"\"}\n        alt={alt}\n      />\n    );\n  }\n}\n\nexport default LazyLoadedImage;\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _Object$defineProperty from \"../../core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _Object$getPrototypeOf from \"../../core-js/object/get-prototype-of\";\nimport _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _getPrototypeOf(o) {\n  _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _Object$create from \"../../core-js/object/create\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _Symbol$iterator from \"../../core-js/symbol/iterator\";\nimport _Symbol from \"../../core-js/symbol\";\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AAKA;AACA;AAEA;;;;;AAGA;AACA;AADA;AAGA;AACA;AAFA;AAFA;AAAA;AACA;AACA;AAMA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AAXA;AACA;AAaA;;;;;;;;;;;;;;;;;;ACrIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;A","sourceRoot":""}